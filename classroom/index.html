<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
      <title>Teach Online - Classroom</title>
      <meta charset="utf-8">
    	<meta http-equiv="X-UA-Compatible" content="IE=Edge">
    	<meta name="viewport" content="width=device-width, initial-scale=1">

      <!-- Favicon -->
        <link rel="icon" type="image/png" href="//wbweb.co.in/assets/images/favicon.png">

      <!-- Onpage SEO -->
        <meta name="title" content="">
        <meta name="keyword" content="">
        <meta name="description" content="">

      <!-- Dependencies -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@9/dist/sweetalert2.min.css" id="theme-styles">
        <link rel="stylesheet" href="../main.css">

      <!-- Theme -->
        <link rel="stylesheet" type="text/css" href="../fonts/font-awesome-4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" type="text/css" href="../fonts/iconic/css/material-design-iconic-font.min.css">
        <link rel="stylesheet" type="text/css" href="../vendor/animate/animate.css">
        <link rel="stylesheet" type="text/css" href="../vendor/css-hamburgers/hamburgers.min.css">
        <link rel="stylesheet" type="text/css" href="../vendor/animsition/css/animsition.min.css">
        <link rel="stylesheet" type="text/css" href="../vendor/select2/select2.min.css">
        <link rel="stylesheet" type="text/css" href="../vendor/daterangepicker/daterangepicker.css">
        <link rel="stylesheet" type="text/css" href="../css/util.css">
        <link rel="stylesheet" type="text/css" href="../css/main.css">

        <style media="screen">
        .course-container {
          width: 100%;
          background: #fff;
          border-radius: 10px;
          overflow: hidden;
          box-shadow: 0 3px 20px 0px rgba(0, 0, 0, 0.1);
          -moz-box-shadow: 0 3px 20px 0px rgba(0, 0, 0, 0.1);
          -webkit-box-shadow: 0 3px 20px 0px rgba(0, 0, 0, 0.1);
          -o-box-shadow: 0 3px 20px 0px rgba(0, 0, 0, 0.1);
          -ms-box-shadow: 0 3px 20px 0px rgba(0, 0, 0, 0.1);
        }
        </style>
  </head>
  <body>
    <div id="app">

    </div>
    <div class="modalspin"><!-- Pre-Loader --></div>
  </body>
    <!-- General Dependencies -->
    <script src="https://www.chartjs.org/dist/2.9.3/Chart.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" ></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" ></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@9/dist/sweetalert2.min.js"></script>
    <script src="https://apis.google.com/js/platform.js"></script>
    <script src="https://apis.google.com/js/api.js"></script>
    <script src="auth.js"></script>
    <script src="../config.js"></script>
    <script src="app.js"></script>


    <!-- theme -->
  	<script src="../vendor/animsition/js/animsition.min.js"></script>
  	<script src="../vendor/select2/select2.min.js"></script>
  	<script src="../vendor/daterangepicker/moment.min.js"></script>
  	<script src="../vendor/daterangepicker/daterangepicker.js"></script>
  	<script src="../vendor/countdowntime/countdowntime.js"></script>
    <script src="../js/main.js"></script>

    <!-- Classroom Dependencies -->
    <script src="js/courses.js"></script>
    <script src="js/courses.students.js"></script>
    <script src="js/courses.announcements.js"></script>
    <script src="js/courses.courseWork.js"></script>
    <script src="js/courses.courseWork.studentSubmissions.js"></script>
    <script src="js/courses.teachers.js"></script>
    <script src="js/courses.topic.js"></script>
    <script src="js/courses.aliases.js"></script>
    <script src="js/invitations.js"></script>
    <script src="js/userprofiles.js"></script>
    <script src="js/userprofiles.guardians.js"></script>
    <script src="js/userprofiles.guardianinvitations.js"></script>

    <script>
      function startApp() {
        return gapi.client.classroom.courses.list({})
        .then(function(response) {
          // Handle the results here (response.result has the parsed body).

          $('#app').empty().html(initDOM());

          //get DOM of courses
          console.log(response);
          print=coursesDOM(response.result.courses);

          //print courses in page
          $('#course-container').empty().html(print);
          $('[data-toggle="tooltip"]').tooltip();
        },
        function(err) { console.error("Execute error", err); });
      }



      function initDOM() {
        print='<div class="container-login100" style="background-image: url('+"'"+'../images/bg-01.jpg'+"'"+');">'
                +'<div id="course-container" class="course-container p-4" >'

                +'</div>'
              +'</div>';

        return print;
      }

      function coursesDOM(courses) {
        console.log('dom call success');
        print='<div class="row">';
          for(i=0; i<courses.length; i++){
            console.log(courses[i]);
              print+='<div class="col-md-3"><div class="card bg-white mb-3" style="max-width: 18rem;">'
               +'<div class="card-header">Class Code - <b>'+courses[i].enrollmentCode+'</b></div>'
               +'<div class="card-body">'
               +'<h5 class="card-title">'+courses[i].name+' - '+courses[i].section+'</h5>'

               +'<p data-toggle="tooltip" title="View Students"> Students: <span id="'+courses[i].id+'-studentCount"><span></p>'
               +'<p data-toggle="tooltip" title="View Teachers"> Teachers: <span id="'+courses[i].id+'-teacherCount"><span></p>'

               +'<p data-toggle="tooltip" title="View Announcements"> Announcements: <span id="'+courses[i].id+'-announcementCounr"><span></p>'
               +'<p data-toggle="tooltip" title="View Classworks"> Classworks: <span id="'+courses[i].id+'-classworkCount"><span></p>'
               +'<p data-toggle="tooltip" title="View Topics"> Topics: <span id="'+courses[i].id+'-topicsCount"><span></p>'
               +'<br>'
               +'<p data-toggle="tooltip" title="View Live Classes"> Live Classes: <span id="'+courses[i].id+'-liveclassCount"><span></p>'
               +'<a data-toggle="tooltip" title="View Class in Google Drive">Class Folder</a>'

               +'</div>'
               +'<div class="card-footer">'
               +'<a href="'+courses[i].alternateLink+'" class="card-text" data-toggle="tooltip" title="Open in GOogle Classroom"><i class="fa fa-link"></i></a>'
               +'<a href="'+courses[i].alternateLink+'" class="card-text" data-toggle="tooltip" title="Invite Teacher><i class="fa fa-link"></i></a>'
               +'<a href="'+courses[i].alternateLink+'" class="card-text" data-toggle="tooltip" title="Invite Students><i class="fa fa-link"></i></a>'

               +'</div>'
               +'</div></div>';
            }
        print+='</div>';

        return print;
      }


      handleClientLoad();

    </script>



</html>
